{"mappings":"oeAAAA,EAAA,S,iBAIA,MAAMC,EAAUC,SAASC,cAAc,uBAGvC,IAAIC,EAFJC,QAAQC,IAAIL,GAUZA,EAAQM,iBAAiB,SANzB,SAAiBC,GACfJ,EAAYK,OAAOD,EAAME,OAAOC,OAChCC,aAAaC,QAAQ,QAAS,GAAGT,KACjCC,QAAQS,WAAWV,E,IAKrB,MAAMW,EAASb,SAASC,cAAc,sBAGtC,IAAIa,EAFJX,QAAQC,IAAIS,GAUZA,EAAOR,iBAAiB,SANxB,SAAgBC,GACdQ,EAAWP,OAAOD,EAAME,OAAOC,OAC/BC,aAAaC,QAAQ,OAAQ,GAAGG,KAChCX,QAAQS,WAAWE,E,IAKrB,MAAMC,EAAWf,SAASC,cAAc,wBAGxC,IAAIe,EAFJb,QAAQC,IAAIW,GAUZA,EAASV,iBAAiB,SAN1B,SAAkBC,GAChBU,EAAaT,OAAOD,EAAME,OAAOC,OACjCC,aAAaC,QAAQ,SAAU,GAAGK,KAClCb,QAAQS,WAAWI,E,IAKrB,MAAMC,EAAWjB,SAASC,cAAc,UACxCE,QAAQC,IAAIa,GAEZ,MAAMC,EAASlB,SAASC,cAAc,SAiCtC,SAASkB,EAAcC,EAAUC,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GAEtC,OADArB,QAAQS,IAAIU,GACL,IAAIG,SAAQ,CAACC,EAASC,KAC3BC,YAAW,KACLN,EACFI,EAAQ,C,SAAEN,E,MAAUC,IAIpBM,EAAO,QAAQ,GAIhBzB,EAAU,G,CA9CjBC,QAAQS,IAAIM,GA8BZA,EAAOb,iBAAiB,UA5BxB,SAAkBC,GAChBA,EAAMuB,iBAEN,IAAK,IAAIC,EAAI,EAAGA,GAAKd,EAAYc,GAAK,EACpCF,YAAW,KACTT,EAAcH,EAAYd,GACvB6B,MAAK,EAACX,SAAEA,EAAQC,MAAEA,MACjBlB,QAAQS,IACN,uBAAqB,CAAKkB,SAAS5B,EAAY4B,EAAIhB,OAErDkB,EAAAC,OAAOC,QACL,uBAAqB,CAAKJ,SAAS5B,EAAY4B,EAAIhB,MAClD,IAEJqB,OAAM,EAACf,SAAEA,EAAQC,MAAEA,MAClBlB,QAAQS,IACN,sBAAoB,CAAKkB,SAAS5B,EAAY4B,EAAIhB,OAEpDkB,EAAAC,OAAOG,QACL,sBAAoB,CAAGN,SAAS5B,EAAY4B,EAAIhB,MACjD,GACD,GACHZ,EAAY4B,EAAIhB,GAGrBX,QAAQS,IAAIN,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst delayEl = document.querySelector(\"input[name='delay']\");\nconsole.dir(delayEl);\n\nlet delayUser;\n\nfunction onDelay(event) {\n  delayUser = Number(event.target.value);\n  localStorage.setItem('delay', `${delayUser}`);\n  console.log(typeof delayUser);\n}\n\ndelayEl.addEventListener('input', onDelay);\n\nconst stepEl = document.querySelector(\"input[name='step']\");\nconsole.dir(stepEl);\n\nlet stepUser;\n\nfunction onStep(event) {\n  stepUser = Number(event.target.value);\n  localStorage.setItem('step', `${stepUser}`);\n  console.log(typeof stepUser);\n}\n\nstepEl.addEventListener('input', onStep);\n\nconst amountEl = document.querySelector(\"input[name='amount']\");\nconsole.dir(amountEl);\n\nlet amountUser;\n\nfunction onAmount(event) {\n  amountUser = Number(event.target.value);\n  localStorage.setItem('amount', `${amountUser}`);\n  console.log(typeof amountUser);\n}\n\namountEl.addEventListener('input', onAmount);\n\nconst buttonEl = document.querySelector('button');\nconsole.dir(buttonEl);\n\nconst formEl = document.querySelector('.form');\nconsole.log(formEl);\n\nfunction onSubmit(event) {\n  event.preventDefault();\n\n  for (let i = 1; i <= amountUser; i += 1) {\n    setTimeout(() => {\n      createPromise(amountUser, delayUser)\n        .then(({ position, delay }) => {\n          console.log(\n            `✅ Fulfilled promise ${[i]} in ${delayUser + i * stepUser}ms`\n          );\n          Notify.success(\n            `✅ Fulfilled promise ${[i]} in ${delayUser + i * stepUser}ms`\n          );\n        })\n        .catch(({ position, delay }) => {\n          console.log(\n            `❌ Rejected promise ${[i]} in ${delayUser + i * stepUser}ms`\n          );\n          Notify.failure(\n            `❌ Rejected promise ${[i]} in ${delayUser + i * stepUser}ms`\n          );\n        });\n    }, delayUser + i * stepUser);\n  }\n\n  console.log(event);\n}\n\nformEl.addEventListener('submit', onSubmit);\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  console.log(shouldResolve);\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n\n        // Fulfill\n      } else {\n        reject('error');\n\n        // Reject\n      }\n    }, delayUser);\n  });\n}\n"],"names":["parcelRequire","$47d4ff9957288465$var$delayEl","document","querySelector","$47d4ff9957288465$var$delayUser","console","dir","addEventListener","event","Number","target","value","localStorage","setItem","log","$47d4ff9957288465$var$stepEl","$47d4ff9957288465$var$stepUser","$47d4ff9957288465$var$amountEl","$47d4ff9957288465$var$amountUser","$47d4ff9957288465$var$buttonEl","$47d4ff9957288465$var$formEl","$47d4ff9957288465$var$createPromise","position","delay","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","preventDefault","i","then","$iQIUW","Notify","success","catch","failure"],"version":3,"file":"03-promises.2e2e61eb.js.map"}